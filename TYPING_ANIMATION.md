# –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—á–∞—Ç–∞–Ω–∏—è –≤ —á–∞—Ç–µ

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–í–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—á–∞—Ç–∞–Ω–∏—è —Å —Ç—Ä–µ–º—è —Ç–æ—á–∫–∞–º–∏ –æ—Ç –°–∏—Å—Ç–µ–º—ã.

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. TypingIndicatorView
**–§–∞–π–ª:** `/ui/chat/TypingIndicatorView.kt`

**–§—É–Ω–∫—Ü–∏–∏:**
- `startTypingAnimation()` - –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é
- `stopTypingAnimation()` - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
- –ê–≤–∞—Ç–∞—Ä —Å–∏—Å—Ç–µ–º—ã (40x40dp)
- –¢–µ–∫—Å—Ç "–°–∏—Å—Ç–µ–º–∞ –ø–µ—á–∞—Ç–∞–µ—Ç"
- –¢—Ä–∏ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏

#### 2. –ê–Ω–∏–º–∞—Ü–∏—è —Ç–æ—á–µ–∫
**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
- –ö–∞–∂–¥–∞—è —Ç–æ—á–∫–∞ –∏–º–µ–µ—Ç —Å–≤–æ—é –∑–∞–¥–µ—Ä–∂–∫—É (0ms, 200ms, 400ms)
- –ê–Ω–∏–º–∞—Ü–∏—è –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–∞: 0.3f ‚Üí 1.0f ‚Üí 0.3f
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —Ü–∏–∫–ª–∞: 600ms
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ

#### 3. –í–Ω–µ—à–Ω–∏–π –≤–∏–¥
- **–ê–≤–∞—Ç–∞—Ä:** –ö—Ä—É–≥–ª—ã–π —Ñ–æ–Ω —Å –∏–∫–æ–Ω–∫–æ–π —Å–∏—Å—Ç–µ–º—ã
- **–¶–≤–µ—Ç —Ç–æ—á–µ–∫:** –¢–æ—Ç –∂–µ, —á—Ç–æ –∏ —É –∞–≤–∞—Ç–∞—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- **–†–∞–∑–º–µ—Ä —Ç–æ—á–µ–∫:** 8x8dp —Å –æ—Ç—Å—Ç—É–ø–æ–º 4dp
- **–ü–æ–ª–æ–∂–µ–Ω–∏–µ:** –°–ª–µ–≤–∞ –≤–Ω–∏–∑—É —á–∞—Ç–∞

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ChatFragment

```kotlin
// –í–º–µ—Å—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
viewModel.loading.observe(viewLifecycleOwner) { loading ->
    if (loading) {
        typingIndicator.startTypingAnimation()
    } else {
        typingIndicator.stopTypingAnimation()
    }
    btnSend.isEnabled = !loading
    btnClearGraph.isEnabled = !loading
}
```

### –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç

**–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:**

1. –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞
2. –°—Ä–∞–∑—É –≤–Ω–∏–∑—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∞–Ω–∏—è:
   ```
   [ü§ñ] –°–∏—Å—Ç–µ–º–∞ –ø–µ—á–∞—Ç–∞–µ—Ç
        ‚óè ‚óã ‚óã  ‚Üí  ‚óã ‚óè ‚óã  ‚Üí  ‚óã ‚óã ‚óè  (—Ü–∏–∫–ª–∏—á–Ω–æ)
   ```
3. –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç–≤–µ—Ç:
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏—Å—á–µ–∑–∞–µ—Ç
   - –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–ª–µ–≤–∞

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º

‚úÖ **–ë–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ** - –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤  
‚úÖ **–õ—É—á—à–∏–π UX** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ "–ø–µ—á–∞—Ç–∞–µ—Ç"  
‚úÖ **–í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å** - –∞–≤–∞—Ç–∞—Ä —Å–≤—è–∑—ã–≤–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é —Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –æ—Ç–≤–µ—Ç–∞  
‚úÖ **–ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è** - –ø—Ä–∏—è—Ç–Ω—ã–µ –≥–ª–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥—ã –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–∞  
‚úÖ **–ù–µ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç** - —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ –ª–æ–≥–∏—á–Ω–æ–º –º–µ—Å—Ç–µ (—Å–ª–µ–≤–∞ –≤–Ω–∏–∑—É)  

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ObjectAnimator –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è
- **–û—Ç–º–µ–Ω–∞:** –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ `stopTypingAnimation()`
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ê–Ω–∏–º–∞—Ü–∏—è –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:** dpToPx() –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —á–∞—Ç –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–µ—á–∞—Ç–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –≥–æ—Ç–æ–≤–∏—Ç –æ—Ç–≤–µ—Ç!
